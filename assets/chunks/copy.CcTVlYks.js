import{_ as C,I as m,o as n,c as v,J as x,w as c,a as l,j as k,as as r,k as u,b as p,G as w,y as b}from"./framework.DXSwm1Fo.js";const d={mounted(t,e){y(t,e),t.__handleCopyClick__=async()=>{const a=String(t.__copyValue__??""),{success:o,fail:i,toast:s}=t.__copyOptions__;try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(a);else throw new Error("Clipboard API unavailable");(o||s)&&_("复制成功")}catch{V(a)?(o||s)&&_("复制成功"):(i||s)&&_("复制失败，请手动尝试")}},t.addEventListener("click",t.__handleCopyClick__)},updated(t,e){y(t,e)},beforeUnmount(t){t.removeEventListener("click",t.__handleCopyClick__)}};function y(t,e){t.__copyValue__=e.value,t.__copyOptions__={success:e.modifiers.success,fail:e.modifiers.fail,toast:e.modifiers.toast}}function V(t){const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-9999px",e.style.top="10px",document.body.appendChild(e),e.focus(),e.select();try{return document.execCommand("copy")}catch(a){return console.error("无法复制",a),!1}finally{document.body.removeChild(e)}}function _(t){typeof uni<"u"?uni.showToast({title:t,icon:"none"}):alert(t)}const h={class:"actions"},E={__name:"copy",setup(t){const e=b("这是一段需要复制的文本");return(a,o)=>{const i=m("el-input"),s=m("el-button");return n(),v(w,null,[x(i,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=f=>e.value=f),placeholder:"请输入需要复制的内容",style:{"margin-bottom":"20px"}},{prepend:c(()=>[...o[1]||(o[1]=[l("Content",-1)])]),_:1},8,["modelValue"]),k("div",h,[r((n(),p(s,null,{default:c(()=>[...o[2]||(o[2]=[l("Click to Copy",-1)])]),_:1})),[[u(d),e.value]]),r((n(),p(s,{type:"primary"},{default:c(()=>[...o[3]||(o[3]=[l("Copy with Toast",-1)])]),_:1})),[[u(d),e.value,void 0,{toast:!0}]]),r((n(),p(s,{type:"success"},{default:c(()=>[...o[4]||(o[4]=[l("Copy with Success",-1)])]),_:1})),[[u(d),e.value,void 0,{success:!0}]])])],64)}}},T=C(E,[["__scopeId","data-v-b34ada10"]]);export{T as d};
